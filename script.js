
// FAQ Data
const faqData = [
    { topic: "INGRESSO E ADMISS√ÉO", subtopic: "Processo Seletivo Regular", question: "Como funciona o processo seletivo regular?", answer: "O processo seletivo √© a porta de entrada oficial para o programa, regido por um edital p√∫blico que detalha todas as regras, datas e documentos necess√°rios.", details: [{ icon: 'üìù', category: 'Categoria Principal: Processo Seletivo', points: ["Edital: √â o documento mais importante, publicado com no m√≠nimo 30 dias de anteced√™ncia. Define vagas, crit√©rios, cronograma e documenta√ß√£o.", "Inscri√ß√£o: Geralmente online, exige o preenchimento de formul√°rios e o envio de documentos digitalizados.", "Fluxo Cont√≠nuo: O programa pode optar por um modelo de 'fluxo cont√≠nuo', permitindo inscri√ß√µes em qualquer √©poca do ano, conforme edital."] }], legalBasis: "Art. 79 (Normatiza√ß√£o), Art. 81 (Fluxo Cont√≠nuo), Art. 87 (Comiss√£o de Sele√ß√£o), Art. 88 (Validade do Processo)", documentation: "Requerimento de inscri√ß√£o, Formul√°rio de inscri√ß√£o, C√≥pia do diploma (ou declara√ß√£o), Hist√≥rico escolar, Curr√≠culo Lattes, Comprovante de taxa.", deadlines: "Publica√ß√£o do Edital: M√≠nimo 30 dias antes das inscri√ß√µes. Recursos: Prazo definido no edital, com o Colegiado como primeira inst√¢ncia." },
    { topic: "INGRESSO E ADMISS√ÉO", subtopic: "Matr√≠cula Institucional", question: "Fui aprovado! Como fa√ßo a matr√≠cula institucional?", answer: "A matr√≠cula institucional √© o ato que oficializa seu v√≠nculo com a UEPB. Perder o prazo significa perder a vaga, mesmo tendo sido aprovado.", details: [{ icon: 'üîó', category: 'Categoria Principal: V√≠nculo Acad√™mico', points: ["Procedimento: Realizada na secretaria do programa, dentro do prazo estipulado no calend√°rio acad√™mico.", "Condi√ß√£o: √â um pr√©-requisito para a primeira matr√≠cula em disciplinas.", "Veda√ß√£o: √â proibido manter matr√≠cula simult√¢nea em mais de um curso de p√≥s-gradua√ß√£o stricto sensu na UEPB."] }], legalBasis: "Art. 100 (Obrigatoriedade e Prazos), Art. 101 (Veda√ß√£o de Matr√≠cula Simult√¢nea), Art. 102 (Diplomas Estrangeiros), Art. 103 (Matr√≠cula Semestral)", documentation: "Documentos listados no edital de sele√ß√£o (diploma, hist√≥rico, documentos pessoais, etc.).", deadlines: "Prazo definido no calend√°rio escolar do programa. A n√£o efetiva√ß√£o resulta em perda autom√°tica da vaga (Art. 100, ¬ß4¬∫)." },
    { topic: "INGRESSO E ADMISS√ÉO", subtopic: "Transfer√™ncia", question: "Posso me transferir de outro programa de mestrado/doutorado para o PPGCF?", answer: "Sim, a transfer√™ncia √© poss√≠vel, mas depende da exist√™ncia de vagas, da aprova√ß√£o do Colegiado e do cumprimento de requisitos espec√≠ficos.", details: [{ icon: 'üîÑ', category: 'Categoria Principal: Mobilidade Acad√™mica', points: ["Requisitos: Ser aluno regular de um programa com conceito CAPES igual ou superior, ter cursado no m√≠nimo 6 meses e ter o aceite formal de um orientador do PPGCF.", "Processo: A solicita√ß√£o deve ser aprovada pelos Colegiados de ambos os programas (origem e destino)."] }], legalBasis: "Art. 86, ¬ß1¬∫ (Admiss√£o por Transfer√™ncia), Art. 105 (Condi√ß√µes M√≠nimas)", documentation: "Requerimento formal, Hist√≥rico escolar de origem, Ementas das disciplinas, Carta de aceite do novo orientador, Carta de anu√™ncia do programa de origem.", deadlines: "O tempo de curso j√° cumprido na origem √© contabilizado no prazo m√°ximo. A decis√£o final √© do Colegiado do PPGCF." },
    { topic: "INGRESSO E ADMISS√ÉO", subtopic: "Reingresso", question: "Fui desligado do programa. Posso tentar entrar novamente?", answer: "Sim, mas existe um per√≠odo de car√™ncia obrigat√≥rio. O reingresso n√£o √© autom√°tico e exige a participa√ß√£o em um novo processo seletivo.", details: [{ icon: '‚è≥', category: 'Categoria Principal: Reingresso', points: ["Car√™ncia: √â necess√°rio aguardar um prazo m√≠nimo de 12 meses ap√≥s a data do desligamento para se inscrever em um novo processo seletivo.", "Nova Matr√≠cula: Se aprovado, o reingresso √© considerado uma matr√≠cula nova, sem aproveitamento autom√°tico de cr√©ditos."] }], legalBasis: "Art. 80 (Prazo de Car√™ncia), Art. 112 (Reingresso como Nova Matr√≠cula)", documentation: "A mesma documenta√ß√£o exigida no edital de sele√ß√£o para novos candidatos.", deadlines: "Prazo m√≠nimo de espera de 12 meses. O candidato compete normalmente no novo processo seletivo." },
    { topic: "INGRESSO E ADMISS√ÉO", subtopic: "Aluno Especial", question: "O que √© um 'Aluno Especial' e como funciona?", answer: "Aluno Especial √© aquele que cursa disciplinas isoladas no programa sem ter um v√≠nculo regular. √â uma √≥tima forma de conhecer o programa ou adiantar cr√©ditos.", details: [{ icon: 'üßë‚Äçüè´', category: 'Categoria Principal: Participa√ß√£o Avulsa', points: ["Direitos: Pode frequentar as aulas e receber um certificado de conclus√£o da disciplina.", "Limita√ß√µes: N√£o tem orientador, n√£o pode receber bolsa e n√£o tem os mesmos direitos de um aluno regular.", "Aproveitamento: Cr√©ditos cursados nos √∫ltimos 5 anos podem ser aproveitados se o aluno ingressar como regular."] }], legalBasis: "Art. 75 (Defini√ß√£o), Art. 76 (Regras de Aceita√ß√£o), Arts. 77 e 78 (Possibilidade para alunos de gradua√ß√£o e pesquisadores)", documentation: "Geralmente, diploma de gradua√ß√£o, hist√≥rico, curr√≠culo e carta de interesse.", deadlines: "Inscri√ß√£o conforme calend√°rio acad√™mico. A aceita√ß√£o √© aprovada pelo Colegiado." },
    { topic: "ESTRUTURA E GOVERNAN√áA", subtopic: "Atribui√ß√µes do Colegiado", question: "Quais s√£o as principais responsabilidades do Colegiado?", answer: "O Colegiado √© o √≥rg√£o m√°ximo de delibera√ß√£o do programa. Ele define e aprova todas as normas acad√™micas, pedag√≥gicas e administrativas, sendo a principal inst√¢ncia de recurso para decis√µes da Coordena√ß√£o.", details: [{ icon: 'üèõÔ∏è', category: 'Principais Compet√™ncias', points: ["Propor e aprovar altera√ß√µes no regimento do programa.", "Definir o n√∫mero de vagas e aprovar editais de sele√ß√£o.", "Deliberar sobre aproveitamento de cr√©ditos, transfer√™ncias, trancamentos e desligamentos.", "Designar orientadores, coorientadores e homologar comiss√µes examinadoras (bancas).", "Aprovar o calend√°rio acad√™mico e a oferta de disciplinas para cada per√≠odo."] }], legalBasis: "Art. 30, 31, 32", documentation: "Atas de reuni√£o do Colegiado.", deadlines: "As decis√µes s√£o tomadas em reuni√µes regulares (pelo menos uma vez por m√™s) ou extraordin√°rias." },
    { topic: "ESTRUTURA E GOVERNAN√áA", subtopic: "Atribui√ß√µes da Coordena√ß√£o", question: "Quais s√£o as fun√ß√µes da Coordena√ß√£o do Programa?", answer: "A Coordena√ß√£o √© o √≥rg√£o executivo que administra o dia a dia do programa. Ela executa as decis√µes do Colegiado, representa o programa e garante o cumprimento de todas as normas e prazos.", details: [{ icon: 'üßë‚Äçüíº', category: 'Principais Fun√ß√µes', points: ["Presidir as reuni√µes do Colegiado e executar suas decis√µes.", "Elaborar e enviar os relat√≥rios para a CAPES (Plataforma Sucupira).", "Gerenciar a aplica√ß√£o de recursos financeiros (como o PROAP).", "Organizar o calend√°rio acad√™mico e fiscalizar o cumprimento das atividades.", "Tomar decis√µes urgentes 'ad referendum', que devem ser ratificadas pelo Colegiado na reuni√£o seguinte."] }], legalBasis: "Art. 33, 34, 35", documentation: "Relat√≥rios anuais, planos de aplica√ß√£o de recursos, editais.", deadlines: "Respons√°vel por cumprir os prazos estabelecidos pela CAPES e pela UEPB." },
    { topic: "ESTRUTURA E GOVERNAN√áA", subtopic: "Atribui√ß√µes da Secretaria", question: "Qual o papel da Secretaria do Programa?", answer: "A Secretaria √© o √≥rg√£o de apoio administrativo que executa as fun√ß√µes burocr√°ticas e de controle acad√™mico. √â o principal ponto de contato para discentes e docentes para quest√µes documentais e de rotina.", details: [{ icon: 'üóó', category: 'Principais Tarefas', points: ["Organizar e processar inscri√ß√µes, matr√≠culas e outros requerimentos.", "Manter atualizados os arquivos, cadastros e hist√≥ricos de discentes e docentes.", "Secretariar reuni√µes do Colegiado, defesas e exames de qualifica√ß√£o.", "Controlar a tramita√ß√£o de correspond√™ncias e documentos oficiais do programa."] }], legalBasis: "Art. 36, 37", documentation: "Processos de matr√≠cula, hist√≥ricos escolares, arquivos de trabalhos finais.", deadlines: "Atua√ß√£o cont√≠nua para garantir o bom funcionamento administrativo." },
    { topic: "CORPO DOCENTE", subtopic: "Credenciamento e Categorias", question: "Como um professor se torna parte do corpo docente do programa?", answer: "Um professor ou pesquisador com t√≠tulo de doutor pode ser autorizado a participar do programa (credenciado) em uma de tr√™s categorias: Permanente, Visitante ou Colaborador, ap√≥s aprova√ß√£o pelo Colegiado.", details: [{ icon: 'üßë‚Äçüè´', category: 'Categorias Docentes', points: ["Permanente: N√∫cleo principal do programa, com atua√ß√£o cont√≠nua em ensino, pesquisa e orienta√ß√£o.", "Visitante: Docente externo contratado por tempo determinado para colaborar com o programa.", "Colaborador: Participa de forma complementar em projetos, aulas ou orienta√ß√µes, sem os mesmos v√≠nculos do docente permanente."] }], legalBasis: "Art. 43, 44, 45, 46, 49", documentation: "Edital de credenciamento, Curr√≠culo Lattes, projeto de pesquisa.", deadlines: "O credenciamento ocorre periodicamente, conforme editais publicados pelo programa." },
    { topic: "CORPO DOCENTE", subtopic: "Deveres do Orientador", question: "Quais s√£o as principais responsabilidades do meu orientador?", answer: "O orientador √© respons√°vel por guiar o discente em toda a sua trajet√≥ria acad√™mica, desde o planejamento dos estudos e escolha de disciplinas at√© a elabora√ß√£o e defesa do trabalho final.", details: [{ icon: 'üß≠', category: 'Principais Atribui√ß√µes', points: ["Assistir o orientando no planejamento acad√™mico e na matr√≠cula.", "Acompanhar e avaliar o desempenho do discente.", "Auxiliar na prepara√ß√£o do projeto e do trabalho final.", "Propor o desligamento do orientando em caso de n√£o cumprimento das atividades.", "Sugerir nomes para bancas e autorizar a defesa do trabalho final."] }], legalBasis: "Art. 69", documentation: "Relat√≥rios de desempenho, pareceres em solicita√ß√µes do discente.", deadlines: "Acompanhamento cont√≠nuo durante todo o curso do orientando." },
    { topic: "QUEST√ïES FINANCEIRAS", subtopic: "Bolsas de Estudo", question: "Como funciona a concess√£o de bolsas de estudo?", answer: "As bolsas n√£o s√£o autom√°ticas e dependem da disponibilidade de cotas das ag√™ncias de fomento (como a CAPES). A sele√ß√£o √© baseada no m√©rito acad√™mico.", details: [{ icon: 'üí∞', category: 'Categoria Principal: Fomento e Aux√≠lio', points: ["Comiss√£o de Bolsas: Cada programa possui uma comiss√£o respons√°vel por definir os crit√©rios de sele√ß√£o e acompanhar os bolsistas.", "Crit√©rios de Sele√ß√£o: Priorizam o m√©rito acad√™mico, geralmente baseado na classifica√ß√£o do processo seletivo.", "Renova√ß√£o: A bolsa √© concedida por 12 meses, renov√°vel anualmente at√© o limite do curso, mediante bom desempenho."] }], legalBasis: "Art. 167 (Comiss√£o de Bolsas), Art. 168 (Requisitos), Art. 169 (Renova√ß√£o)", documentation: "Documentos que comprovem aus√™ncia de v√≠nculo empregat√≠cio remunerado, Termo de compromisso da ag√™ncia de fomento.", deadlines: "Sele√ß√£o realizada pela Comiss√£o de Bolsas ap√≥s o resultado do processo seletivo de ingresso." },
    { topic: "QUEST√ïES FINANCEIRAS", subtopic: "Dedica√ß√£o Exclusiva", question: "Posso trabalhar e receber bolsa ao mesmo tempo?", answer: "N√£o. A bolsa de estudos exige dedica√ß√£o integral √†s atividades do programa.", details: [{ icon: 'üö´', category: 'Categoria Principal: Veda√ß√µes e Regras', points: ["Dedica√ß√£o Exclusiva: O bolsista deve ter dedica√ß√£o integral ao curso, o que impede o ac√∫mulo com atividades profissionais remuneradas.", "Exce√ß√µes: A pr√≥pria ag√™ncia de fomento pode prever exce√ß√µes espec√≠ficas em seus regulamentos.", "Consequ√™ncias: O descumprimento leva ao cancelamento da bolsa e √† obriga√ß√£o de ressarcir os valores recebidos."] }], legalBasis: "Art. 168, incisos II e IV (Exig√™ncia de Dedica√ß√£o Integral)", documentation: "Declara√ß√£o de n√£o ac√∫mulo de bolsas e de aus√™ncia de v√≠nculo empregat√≠cio.", deadlines: "O aluno √© respons√°vel por manter sua condi√ß√£o de dedica√ß√£o exclusiva e informar qualquer altera√ß√£o √† coordena√ß√£o." },
    { topic: "VIDA ACAD√äMICA", subtopic: "Cr√©ditos M√≠nimos", question: "Quantos cr√©ditos preciso para concluir o curso?", answer: "O programa exige um n√∫mero m√≠nimo de cr√©ditos em disciplinas, que devem ser integralizados dentro do prazo do curso.", details: [{ icon: 'üìä', category: 'Categoria Principal: Estrutura Curricular', points: ["Mestrado: M√≠nimo de 18 cr√©ditos.", "Doutorado: M√≠nimo de 27 cr√©ditos.", "Defini√ß√£o de Cr√©dito: 1 cr√©dito = 15h de aula te√≥rica ou 30h de aula pr√°tica.", "Observa√ß√£o: Cr√©ditos da disserta√ß√£o/tese n√£o entram nesta contagem."] }], legalBasis: "Art. 115 (Limites M√≠nimos de Cr√©ditos)", documentation: "O controle √© feito via hist√≥rico escolar.", deadlines: "Os cr√©ditos devem ser cumpridos dentro do prazo m√°ximo do curso. O aluno e o orientador s√£o respons√°veis pelo planejamento." },
    { topic: "VIDA ACAD√äMICA", subtopic: "Avalia√ß√£o e Aprova√ß√£o", question: "Como funciona a avalia√ß√£o nas disciplinas?", answer: "A aprova√ß√£o em uma disciplina depende de nota e frequ√™ncia m√≠nimas.", details: [{ icon: '‚úÖ', category: 'Categoria Principal: Desempenho Acad√™mico', points: ["Nota M√≠nima: Aprova√ß√£o exige nota igual ou superior a 7,0 (Conceito C).", "Frequ√™ncia M√≠nima: √â obrigat√≥ria a presen√ßa em, no m√≠nimo, 75% das aulas.", "CRE (Coeficiente de Rendimento Escolar): Manter o CRE acima de 7,0 √© condi√ß√£o para a perman√™ncia no programa."] }], legalBasis: "Art. 125 (Sistema de Notas), Art. 126 (Frequ√™ncia M√≠nima), Art. 110, inciso VI (Desligamento por CRE baixo)", documentation: "N√£o se aplica.", deadlines: "O professor tem at√© 30 dias ap√≥s o t√©rmino da disciplina para lan√ßar as notas. Reprovar 2x na mesma disciplina ou ter CRE < 7,0 leva ao desligamento." },
    { topic: "VIDA ACAD√äMICA", subtopic: "Est√°gio de Doc√™ncia", question: "O Est√°gio de Doc√™ncia √© obrigat√≥rio?", answer: "Sim, o est√°gio de doc√™ncia √© uma atividade acad√™mica obrigat√≥ria para bolsistas, visando a forma√ß√£o para o ensino superior. Discentes que j√° s√£o professores podem solicitar a dispensa da atividade.", details: [{ icon: 'üë®‚Äçüè´', category: 'Detalhes do Est√°gio', points: ["√â obrigat√≥rio para discentes bolsistas.", "Mestrandos devem cursar por um semestre; doutorandos por dois semestres.", "As atividades s√£o supervisionadas pelo orientador e por um professor da gradua√ß√£o.", "Ao final, o discente deve elaborar um relat√≥rio para obter os cr√©ditos."] }], legalBasis: "Art. 118", documentation: "Relat√≥rio de atividades do est√°gio.", deadlines: "Deve ser cumprido dentro do prazo regular do curso." },
    { topic: "VIDA ACAD√äMICA", subtopic: "Aproveitamento de Estudos", question: "Posso aproveitar cr√©ditos de outros cursos de p√≥s-gradua√ß√£o?", answer: "Sim, o Colegiado pode aceitar cr√©ditos de disciplinas cursadas em outros programas de p√≥s-gradua√ß√£o (stricto ou lato sensu), desde que tenham sido conclu√≠das nos √∫ltimos 5 anos e sejam relevantes para sua forma√ß√£o.", details: [{ icon: 'üìö', category: 'Regras para Aproveitamento', points: ["O componente curricular deve ter sido conclu√≠do h√°, no m√°ximo, 5 anos.", "A nota obtida deve ser igual ou superior a 7,0 (ou conceito C).", "O n√∫mero m√°ximo de cr√©ditos a serem aproveitados √© definido no regimento de cada programa.", "√â necess√°rio apresentar requerimento com hist√≥rico escolar e ementas das disciplinas."] }], legalBasis: "Art. 129, Art. 130", documentation: "Requerimento formal, hist√≥rico escolar e ementas das disciplinas cursadas.", deadlines: "A solicita√ß√£o deve ser feita formalmente √† coordena√ß√£o do programa." },
    { topic: "PRAZOS E SITUA√á√ïES ESPECIAIS", subtopic: "Prazos do Curso", question: "Qual o prazo m√°ximo para concluir o mestrado/doutorado?", answer: "O regimento estabelece prazos m√≠nimos e m√°ximos para a conclus√£o do curso, contados a partir da data da primeira matr√≠cula.", details: [{ icon: '‚è≥', category: 'Categoria Principal: Prazos Regimentais', points: ["Mestrado: M√≠nimo de 1 ano e m√°ximo de 2 anos e 6 meses (30 meses).", "Doutorado: M√≠nimo de 2 anos e m√°ximo de 5 anos (60 meses).", "Prorroga√ß√£o: Em casos excepcionais, o Colegiado pode conceder uma prorroga√ß√£o de at√© 6 meses (mestrado) ou 12 meses (doutorado)."] }], legalBasis: "Art. 113 (Prazos), Art. 114 (Prorroga√ß√£o)", documentation: "Para prorroga√ß√£o: Requerimento formal, justificativa, parecer do orientador, vers√£o preliminar do trabalho, cronograma.", deadlines: "A solicita√ß√£o de prorroga√ß√£o deve ser feita ANTES do vencimento do prazo regular. A decis√£o √© do Colegiado." },
    { topic: "PRAZOS E SITUA√á√ïES ESPECIAIS", subtopic: "Trancamento Geral", question: "Posso trancar o curso por um tempo?", answer: "Sim, √© poss√≠vel solicitar a 'Interrup√ß√£o de Estudos' (trancamento geral), mas apenas por motivos espec√≠ficos e por um per√≠odo limitado.", details: [{ icon: '‚è∏Ô∏è', category: 'Categoria Principal: Interrup√ß√£o de Estudos', points: ["Motivos Aceitos: Viagem de trabalho, doen√ßa comprovada ou licen√ßa maternidade.", "Prazos de Trancamento: Mestrado (1 per√≠odo letivo), Doutorado (at√© 2 per√≠odos).", "Efeito: O per√≠odo trancado n√£o √© contado no tempo total do curso.", "Bolsa: A bolsa √© suspensa durante a interrup√ß√£o (exceto licen√ßa maternidade)."] }], legalBasis: "Art. 107 (Regras para Interrup√ß√£o de Estudos)", documentation: "Requerimento formal, documentos comprobat√≥rios, parecer do orientador.", deadlines: "A solicita√ß√£o deve ser feita antes ou durante o per√≠odo a ser trancado. A decis√£o √© do Colegiado." },
    { topic: "ORIENTA√á√ÉO", subtopic: "Defini√ß√£o e Troca de Orientador", question: "Como funciona a defini√ß√£o e a troca de orientador?", answer: "Todo aluno tem direito a um orientador, que √© formalizado pelo Colegiado. A troca √© poss√≠vel, mas √© um processo que requer acordo e aprova√ß√£o.", details: [{ icon: 'ü§ù', category: 'Categoria Principal: Rela√ß√£o Orientador-Orientando', points: ["Defini√ß√£o: Designado pelo Colegiado, com base na indica√ß√£o do aluno e afinidade de pesquisa.", "Mudan√ßa pelo Aluno: O aluno pode solicitar a troca, com anu√™ncia do orientador atual e do novo.", "Conflito: Em caso de discord√¢ncia, a decis√£o final sobre a troca cabe ao Colegiado."] }], legalBasis: "Art. 65 (Defini√ß√£o), Art. 66 (Mudan√ßa pelo Discente), Art. 32, inciso XXI (Atribui√ß√£o do Colegiado)", documentation: "Para troca: Requerimento formal, justificativa, carta de anu√™ncia/aceite.", deadlines: "O Colegiado tem at√© 30 dias para designar um novo orientador em caso de vac√¢ncia." },
    { topic: "ORIENTA√á√ÉO", subtopic: "Defini√ß√£o e Troca de Orientador", question: "Um orientador pode deixar de me orientar?", answer: "Sim, um orientador pode solicitar ao Colegiado o direito de abdicar da orienta√ß√£o de um discente. Isso deve ser feito atrav√©s de uma justificativa formal e circunstanciada, baseada nos relat√≥rios de desempenho do aluno.", details: [{ icon: 'üëã', category: 'Abdica√ß√£o da Orienta√ß√£o', points: ["Direito do Orientador: √â facultado ao orientador o direito de abdicar da orienta√ß√£o.", "Justificativa: A solicita√ß√£o deve ser formal e bem fundamentada.", "Aprova√ß√£o: O pedido precisa ser submetido e aprovado pelo Colegiado do programa.", "Novo Orientador: Em caso de aprova√ß√£o, o Colegiado designar√° um novo orientador em at√© 30 dias."] }], legalBasis: "Art. 67 (Abdica√ß√£o pelo Orientador), Art. 68 (Tutela da Coordena√ß√£o)", documentation: "Justificativa formal do orientador.", deadlines: "A decis√£o final √© do Colegiado." },
    { topic: "DEFESA E DIPLOMA√á√ÉO", subtopic: "Exame de Qualifica√ß√£o", question: "O que √© o Exame de Qualifica√ß√£o?", answer: "O exame de qualifica√ß√£o (ou pr√©-banca) √© uma etapa obrigat√≥ria para o doutorado que avalia a capacidade do discente de realizar uma pesquisa original. √â um marco importante que antecede a defesa final da tese.", details: [{ icon: 'üßê', category: 'Processo de Qualifica√ß√£o', points: ["Objetivo: Avaliar a maturidade da pesquisa e a capacidade do discente.", "Obrigatoriedade: √â obrigat√≥rio para o Doutorado e pode ser exigido no Mestrado, conforme o regimento do programa.", "Banca: Composta por no m√≠nimo tr√™s doutores, aprovada pelo Colegiado.", "Resultado: O discente pode ser 'Aprovado' ou 'Reprovado'. Em caso de reprova√ß√£o, h√° uma √∫nica chance de repetir o exame."] }], legalBasis: "Art. 147, 148, 149, 150", documentation: "Vers√£o do trabalho para a banca, requerimento de agendamento.", deadlines: "O prazo para a segunda tentativa √© de at√© 120 dias (Doutorado) ou 60 dias (Mestrado) ap√≥s a primeira." },
    { topic: "DEFESA E DIPLOMA√á√ÉO", subtopic: "Requisitos para Defesa", question: "O que preciso fazer para poder defender minha disserta√ß√£o/tese?", answer: "Para marcar a defesa, √© preciso ter cumprido uma s√©rie de requisitos acad√™micos e administrativos, formando um checklist obrigat√≥rio.", details: [{ icon: 'üèÅ', category: 'Categoria Principal: Conclus√£o de Curso', points: ["Checklist: Cr√©ditos integralizados, aprova√ß√£o na qualifica√ß√£o, profici√™ncia em l√≠ngua estrangeira, est√°gio doc√™ncia cumprido, declara√ß√£o de n√£o pl√°gio e recomenda√ß√£o do orientador."] }], legalBasis: "Art. 151 (Requisitos para a Defesa)", documentation: "Requerimento de agendamento, autoriza√ß√£o do orientador, vers√£o do trabalho para a banca, sugest√£o de nomes para a comiss√£o, comprovantes de todos os requisitos.", deadlines: "O Colegiado tem at√© 30 dias para homologar a banca, e a defesa deve ser marcada em at√© 30 dias ap√≥s a homologa√ß√£o." },
    { topic: "DEFESA E DIPLOMA√á√ÉO", subtopic: "Banca e Resultados", question: "Como funciona a banca de defesa e quais os poss√≠veis resultados?", answer: "A defesa √© uma sess√£o p√∫blica julgada por uma comiss√£o de especialistas. O resultado pode ser aprova√ß√£o, aprova√ß√£o com corre√ß√µes ou reprova√ß√£o.", details: [{ icon: 'üßë‚Äç‚öñÔ∏è', category: 'Categoria Principal: Banca Examinadora', points: ["Composi√ß√£o (Mestrado): Orientador + 2 especialistas (1 externo).", "Composi√ß√£o (Doutorado): Orientador + 4 especialistas (2 externos, 1 de outra institui√ß√£o).", "Resultados: Aprovado(a), Insuficiente (com prazo para corre√ß√µes), Reprovado(a) (leva ao desligamento)."] }], legalBasis: "Art. 156 (Composi√ß√£o da Banca), Art. 157 (Resultados)", documentation: "Ata da sess√£o de defesa p√∫blica.", deadlines: "Prazo para corre√ß√µes (se 'Insuficiente'): 90 dias (Mestrado) ou 180 dias (Doutorado)." },
    { topic: "DEFESA E DIPLOMA√á√ÉO", subtopic: "Diploma√ß√£o", question: "Fui aprovado! Como fa√ßo para solicitar o diploma?", answer: "Ap√≥s a aprova√ß√£o e a realiza√ß√£o das corre√ß√µes, √© preciso depositar a vers√£o final do trabalho no reposit√≥rio da UEPB e, ent√£o, solicitar formalmente a expedi√ß√£o do diploma.", details: [{ icon: 'üìú', category: 'Categoria Principal: Diploma√ß√£o', points: ["Dep√≥sito Final: A vers√£o final corrigida (PDF/A com ficha catalogr√°fica) deve ser depositada no Reposit√≥rio Institucional em at√© 30 dias ap√≥s a defesa.", "Solicita√ß√£o do Diploma: O processo √© aberto pelo aluno junto √† PRPGP, com toda a documenta√ß√£o comprobat√≥ria."] }], legalBasis: "Art. 159 (Dep√≥sito Final), Art. 162 (Requisitos para Outorga), Art. 163 (Documenta√ß√£o para Expedi√ß√£o)", documentation: "Requerimento padr√£o, Ata da defesa, C√≥pia do diploma anterior, Documentos pessoais, Comprovante de dep√≥sito, Declara√ß√£o de quita√ß√£o da biblioteca, Declara√ß√£o e hist√≥rico de conclus√£o.", deadlines: "Prazo para Dep√≥sito: 30 dias ap√≥s a defesa (prorrog√°vel por mais 15). A expedi√ß√£o do diploma √© de responsabilidade da PRPGP." },
    { topic: "SITUA√á√ïES PROBLEM√ÅTICAS", subtopic: "Desligamento", question: "Em quais situa√ß√µes posso ser desligado do programa?", answer: "O desligamento √© autom√°tico em casos de desempenho acad√™mico insuficiente, descumprimento de prazos ou infra√ß√µes graves, como pl√°gio.", details: [{ icon: '‚ùå', category: 'Categoria Principal: Desligamento', points: ["Causas: Reprovar 2x na mesma disciplina, n√£o ser aprovado na profici√™ncia, n√£o se matricular, reprovar 2x na qualifica√ß√£o, esgotar o prazo, ter CRE < 7,0, ser reprovado na defesa, ou pl√°gio."] }], legalBasis: "Art. 110 (Causas de Desligamento), Art. 111 (Abandono)", documentation: "O processo √© administrativo, iniciado pela Coordena√ß√£o.", deadlines: "O aluno pode recorrer da decis√£o de desligamento, sendo o Colegiado a primeira inst√¢ncia." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Propriedade Intelectual", question: "Quem √© o dono da minha pesquisa? Posso pedir sigilo?", answer: "Os resultados da pesquisa s√£o de propriedade da UEPB, mas os direitos autorais s√£o resguardados. Sim, voc√™ pode e deve solicitar sigilo se planeja publicar ou patentear.", details: [{ icon: 'üí°', category: 'Categoria Principal: Propriedade Intelectual', points: ["Propriedade: Os resultados s√£o da UEPB, mas a divulga√ß√£o deve sempre mencionar a universidade, o orientador e o discente.", "Sigilo: Voc√™ tem o direito de solicitar um prazo de sigilo de at√© 1 ano para a divulga√ß√£o do seu trabalho no reposit√≥rio.", "Processo: A solicita√ß√£o de sigilo √© feita no momento do dep√≥sito final do trabalho."] }], legalBasis: "Art. 187 (Divulga√ß√£o e Sigilo), Art. 188 (Propriedade dos Resultados)", documentation: "Formul√°rio de autoriza√ß√£o de dep√≥sito, com a op√ß√£o de embargo/sigilo marcada.", deadlines: "Prazo de Sigilo: At√© 1 ano, podendo ser ampliado. A solicita√ß√£o √© feita no ato do dep√≥sito." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Regras de Transi√ß√£o", question: "Como funcionam as regras de transi√ß√£o para o novo regimento?", answer: "Para discentes que ingressaram at√© o segundo per√≠odo letivo de 2023, aplicam-se as disposi√ß√µes do regimento anterior. Esta nova resolu√ß√£o vale para os ingressantes a partir de sua publica√ß√£o.", details: [{ icon: 'üìú', category: 'Categoria Principal: Normas Aplic√°veis', points: ["Marco Temporal: A data de ingresso no curso define qual regimento se aplica ao aluno.", "Regra Anterior: Alunos ingressantes at√© 2023.2 seguem o regimento antigo.", "Regra Nova: Alunos ingressantes ap√≥s a publica√ß√£o desta resolu√ß√£o seguem as novas regras."] }], legalBasis: "Art. 189", documentation: "N√£o se aplica documenta√ß√£o espec√≠fica, a regra √© aplicada automaticamente pela secretaria.", deadlines: "A regra de transi√ß√£o √© permanente para as turmas especificadas." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Passagem Direta Mestrado-Doutorado", question: "√â poss√≠vel passar do mestrado para o doutorado diretamente (fast track)?", answer: "Sim, os programas podem prever a passagem de alunos do mestrado para o doutorado sem a necessidade de um novo processo seletivo p√∫blico, contanto que crit√©rios de excel√™ncia sejam atendidos.", details: [{ icon: 'üöÄ', category: 'Categoria Principal: Mobilidade Acad√™mica Avan√ßada', points: ["Condi√ß√£o: O regimento do programa deve prever e detalhar essa possibilidade.", "Crit√©rios: O aluno deve demonstrar desempenho excepcional, produ√ß√£o acad√™mica qualificada e ter um plano de trabalho consistente para o doutorado.", "Avalia√ß√£o: A passagem depende de uma avalia√ß√£o rigorosa por uma comiss√£o designada pelo Colegiado."] }], legalBasis: "Art. 104", documentation: "Requerimento formal, hist√≥rico escolar, curr√≠culo Lattes atualizado, produ√ß√£o cient√≠fica, plano de trabalho para o doutorado, carta de recomenda√ß√£o do orientador.", deadlines: "A solicita√ß√£o deve ser feita em um prazo definido pelo regimento do programa, geralmente ap√≥s a qualifica√ß√£o do mestrado." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Deveres do Discente", question: "Quais s√£o os principais deveres do aluno de p√≥s-gradua√ß√£o?", answer: "Al√©m do respeito √†s normas da UEPB, o aluno deve cumprir o plano de estudos, manter o orientador informado, participar das atividades, realizar o est√°gio de doc√™ncia e submeter projetos ao Comit√™ de √âtica quando necess√°rio.", details: [{ icon: 'üìã', category: 'Categoria Principal: Responsabilidades Acad√™micas', points: ["Zelar pelo nome da institui√ß√£o e cumprir o regimento.", "Manter seus dados cadastrais e curriculares atualizados.", "Dedicar-se √†s atividades do curso e cumprir os prazos.", "Cumprir o Est√°gio de Doc√™ncia (obrigat√≥rio para bolsistas).", "Observar as diretrizes do Comit√™ de √âtica em Pesquisa."] }], legalBasis: "Art. 74", documentation: "Comprovantes de submiss√£o ao Comit√™ de √âtica, relat√≥rios de est√°gio de doc√™ncia, etc., conforme exigido pelo programa.", deadlines: "Os deveres devem ser cumpridos ao longo de todo o curso." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Representa√ß√£o Discente", question: "Como funciona a representa√ß√£o dos alunos no Colegiado?", answer: "Os alunos (discentes) t√™m direito a uma representa√ß√£o no Colegiado do programa, com direito a voz e voto, garantindo sua participa√ß√£o nas decis√µes. O mandato √© de 1 ano, permitida uma recondu√ß√£o.", details: [{ icon: 'üó£Ô∏è', category: 'Categoria Principal: Governan√ßa e Participa√ß√£o', points: ["Composi√ß√£o: O Colegiado inclui representantes dos alunos, eleitos por seus pares.", "Mandato: O mandato do representante discente √© de 1 (um) ano.", "Recondu√ß√£o: √â permitida uma recondu√ß√£o para um segundo mandato.", "Voz e Voto: Os representantes participam ativamente das reuni√µes e delibera√ß√µes."] }], legalBasis: "Art. 31, inciso III e ¬ß3¬∫", documentation: "A elei√ß√£o √© organizada pelos pr√≥prios alunos e formalizada junto √† coordena√ß√£o do programa.", deadlines: "O mandato √© de 1 ano, com elei√ß√µes peri√≥dicas para a escolha dos representantes." },
    { topic: "DIREITOS E GOVERNAN√áA", subtopic: "Deveres do Discente", question: "Quais s√£o os principais deveres do aluno de p√≥s-gradua√ß√£o?", answer: "Al√©m do respeito √†s normas da UEPB, o aluno deve cumprir o plano de estudos, manter o orientador informado, participar das atividades, realizar o est√°gio de doc√™ncia e submeter projetos ao Comit√™ de √âtica quando necess√°rio.", details: [{ icon: 'üìã', category: 'Categoria Principal: Responsabilidades Acad√™micas', points: ["Zelar pelo nome da institui√ß√£o e cumprir o regimento.", "Manter seus dados cadastrais e curriculares atualizados.", "Dedicar-se √†s atividades do curso e cumprir os prazos.", "Cumprir o Est√°gio de Doc√™ncia (obrigat√≥rio para bolsistas).", "Observar as diretrizes do Comit√™ de √âtica em Pesquisa."] }], legalBasis: "Art. 74", documentation: "Comprovantes de submiss√£o ao Comit√™ de √âtica, relat√≥rios de est√°gio de doc√™ncia, etc., conforme exigido pelo programa.", deadlines: "Os deveres devem ser cumpridos ao longo de todo o curso." },
    { topic: "REQUISITOS DE CONCLUS√ÉO", subtopic: "Crit√©rios de Finaliza√ß√£o", question: "Quais s√£o os requisitos obrigat√≥rios para concluir o Mestrado em Ci√™ncias Farmac√™uticas?", answer: "Para concluir o Mestrado no PPGCF/UEPB, o discente deve atender a crit√©rios espec√≠ficos de prazo, profici√™ncia em idioma e produ√ß√£o cient√≠fica, variando conforme sua situa√ß√£o de bolsa.", details: [{ icon: 'üéØ', category: 'Categoria Principal: Requisitos de Conclus√£o', points: ["Prazo: Dura√ß√£o m√°xima de 24 meses, com poss√≠vel prorroga√ß√£o de at√© 6 meses mediante aprova√ß√£o do colegiado.", "Profici√™ncia: Aprova√ß√£o em Exame de Profici√™ncia em L√≠ngua Inglesa de institui√ß√£o p√∫blica reconhecida.", "Produ√ß√£o Cient√≠fica (sem bolsa): M√≠nimo de 1 produto submetido (artigo Qualis A, patente ou cap√≠tulo de livro).", "Produ√ß√£o Cient√≠fica (com bolsa): M√≠nimo de 2 produtos submetidos ou 1 aceito (artigo Qualis A, patente ou cap√≠tulo de livro).", "Observa√ß√£o: O discente deve ser primeiro autor dos artigos submetidos."] }], legalBasis: "Regimento Interno do PPGCF", documentation: "Comprovante de profici√™ncia, comprovantes de submiss√£o/aceite de produtos cient√≠ficos.", deadlines: "Prazo m√°ximo de 24 meses para conclus√£o, com possibilidade de prorroga√ß√£o de 6 meses." }
];

// Quick access cards data
const quickAccessCards = [
    { icon: 'fas fa-user-plus', title: 'Ingresso', description: 'Processo seletivo, matr√≠cula e admiss√£o', topic: 'INGRESSO E ADMISS√ÉO' },
    { icon: 'fas fa-graduation-cap', title: 'Vida Acad√™mica', description: 'Cr√©ditos, disciplinas e avalia√ß√µes', topic: 'VIDA ACAD√äMICA' },
    { icon: 'fas fa-money-bill-wave', title: 'Bolsas', description: 'Aux√≠lios financeiros e dedica√ß√£o', topic: 'QUEST√ïES FINANCEIRAS' },
    { icon: 'fas fa-chalkboard-teacher', title: 'Orienta√ß√£o', description: 'Orientadores e relacionamento', topic: 'ORIENTA√á√ÉO' },
    { icon: 'fas fa-certificate', title: 'Defesa', description: 'Qualifica√ß√£o, defesa e diploma√ß√£o', topic: 'DEFESA E DIPLOMA√á√ÉO' },
    { icon: 'fas fa-balance-scale', title: 'Direitos e Governan√ßa', description: 'Estrutura, funcionamento e direitos', topic: 'DIREITOS E GOVERNAN√áA' },
    { icon: 'fas fa-clock', title: 'Prazos e Situa√ß√µes Especiais', description: 'Prazos do curso e situa√ß√µes especiais', topic: 'PRAZOS E SITUA√á√ïES ESPECIAIS' },
    { icon: 'fas fa-exclamation-triangle', title: 'Situa√ß√µes Problem√°ticas', description: 'Desligamento e problemas acad√™micos', topic: 'SITUA√á√ïES PROBLEM√ÅTICAS' },
    { icon: 'fas fa-users', title: 'Corpo Docente', description: 'Professores, orientadores e credenciamento', topic: 'CORPO DOCENTE' },
    { icon: 'fas fa-check-circle', title: 'Requisitos de Conclus√£o', description: 'Crit√©rios para finalizar o curso', topic: 'REQUISITOS DE CONCLUS√ÉO' }
];

// Topic icons
const topicIcons = {
    "INGRESSO E ADMISS√ÉO": "fas fa-door-open",
    "ESTRUTURA E GOVERNAN√áA": "fas fa-building",
    "CORPO DOCENTE": "fas fa-users",
    "QUEST√ïES FINANCEIRAS": "fas fa-money-bill-wave",
    "VIDA ACAD√äMICA": "fas fa-graduation-cap",
    "PRAZOS E SITUA√á√ïES ESPECIAIS": "fas fa-clock",
    "ORIENTA√á√ÉO": "fas fa-chalkboard-teacher",
    "DEFESA E DIPLOMA√á√ÉO": "fas fa-certificate",
    "SITUA√á√ïES PROBLEM√ÅTICAS": "fas fa-exclamation-triangle",
    "DIREITOS E GOVERNAN√áA": "fas fa-balance-scale",
    "REQUISITOS DE CONCLUS√ÉO": "fas fa-check-circle"
};

// DOM Elements
const searchInput = document.getElementById('searchInput');
const topicFilter = document.getElementById('topicFilter');
const subtopicFilter = document.getElementById('subtopicFilter');
const faqContainer = document.getElementById('faqContainer');
const noResults = document.getElementById('noResults');
const resultsCount = document.getElementById('resultsCount');
const quickCards = document.getElementById('quickCards');

// State
let currentResults = faqData;

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
});

function initializeApp() {
    populateFilters();
    renderQuickAccessCards();
    renderFAQ(faqData);
    updateResultsCount(faqData.length);
    updateHeroStats();
    
    // Event listeners
    searchInput.addEventListener('input', debounce(handleSearch, 300));
    topicFilter.addEventListener('change', handleFilter);
    subtopicFilter.addEventListener('change', handleFilter);
}

function updateHeroStats() {
    // Contar perguntas totais
    const totalQuestions = faqData.length;
    
    // Contar categorias √∫nicas (t√≥picos)
    const uniqueTopics = [...new Set(faqData.map(item => item.topic))].length;
    
    // Atualizar os elementos no DOM
    const statNumbers = document.querySelectorAll('.stat-number');
    if (statNumbers.length >= 2) {
        statNumbers[0].textContent = totalQuestions;
        statNumbers[1].textContent = uniqueTopics;
    }
}

function populateFilters() {
    // Populate topic filter
    const topics = [...new Set(faqData.map(item => item.topic))].sort();
    topics.forEach(topic => {
        const option = document.createElement('option');
        option.value = topic;
        option.textContent = topic;
        topicFilter.appendChild(option);
    });

    // Populate subtopic filter
    const subtopics = [...new Set(faqData.map(item => item.subtopic))].sort();
    subtopics.forEach(subtopic => {
        const option = document.createElement('option');
        option.value = subtopic;
        option.textContent = subtopic;
        subtopicFilter.appendChild(option);
    });
}

function renderQuickAccessCards() {
    quickCards.innerHTML = quickAccessCards.map(card => `
        <div class="quick-card" onclick="filterByTopic('${card.topic}')">
            <div class="quick-card-icon">
                <i class="${card.icon}"></i>
            </div>
            <h3>${card.title}</h3>
            <p>${card.description}</p>
        </div>
    `).join('');
}

function renderFAQ(items) {
    if (items.length === 0) {
        faqContainer.innerHTML = '';
        noResults.classList.add('show');
        return;
    }

    noResults.classList.remove('show');
    
    faqContainer.innerHTML = items.map((item, index) => `
        <div class="faq-item" id="faq-${index}">
            <div class="faq-header-item" onclick="toggleFAQ(${index})">
                <div class="faq-question-content">
                    <div class="faq-question">${item.question}</div>
                    <div class="faq-tags">
                        <span class="faq-tag topic">${item.topic}</span>
                        <span class="faq-tag subtopic">${item.subtopic}</span>
                    </div>
                </div>
                <i class="fas fa-chevron-down faq-chevron"></i>
            </div>
            <div class="faq-content">
                <div class="faq-answer">${item.answer}</div>
                <div class="faq-details">
                    ${renderDetails(item)}
                    ${renderInfoGrid(item)}
                </div>
            </div>
        </div>
    `).join('');
}

function renderDetails(item) {
    return item.details.map(detail => `
        <div class="detail-section">
            <div class="detail-icon">${detail.icon}</div>
            <div class="detail-category">${detail.category}</div>
            <ul class="detail-points">
                ${detail.points.map(point => `<li>${point}</li>`).join('')}
            </ul>
        </div>
    `).join('');
}

function renderInfoGrid(item) {
    return `
        <div class="info-grid">
            <div class="info-item">
                <i class="fas fa-book info-icon"></i>
                <div class="info-content">
                    <h5>Base Legal <i class="fas fa-external-link-alt legal-link-icon" onclick="openLegalDocument(event)"></i></h5>
                    <p>${item.legalBasis}</p>
                </div>
            </div>
            <div class="info-item">
                <i class="fas fa-file-alt info-icon"></i>
                <div class="info-content">
                    <h5>Documenta√ß√£o</h5>
                    <p>${item.documentation}</p>
                </div>
            </div>
            <div class="info-item">
                <i class="fas fa-clock info-icon"></i>
                <div class="info-content">
                    <h5>Prazos</h5>
                    <p>${item.deadlines}</p>
                </div>
            </div>
        </div>
    `;
}

function toggleFAQ(index) {
    const faqItem = document.getElementById(`faq-${index}`);
    faqItem.classList.toggle('active');
}

function handleSearch() {
    applyFilters();
}

function handleFilter() {
    applyFilters();
}

function applyFilters() {
    const searchTerm = searchInput.value.toLowerCase().trim();
    const selectedTopic = topicFilter.value;
    const selectedSubtopic = subtopicFilter.value;

    // Show/hide quick access cards based on search or any active filter
    const quickAccessSection = document.querySelector('.quick-access');
    const hasActiveFilters = searchTerm || selectedTopic || selectedSubtopic;
    
    if (hasActiveFilters) {
        quickAccessSection.classList.add('hidden');
    } else {
        quickAccessSection.classList.remove('hidden');
    }

    let filtered = faqData.filter(item => {
        // Topic filter
        if (selectedTopic && item.topic !== selectedTopic) return false;
        
        // Subtopic filter
        if (selectedSubtopic && item.subtopic !== selectedSubtopic) return false;
        
        // Search filter
        if (searchTerm) {
            const searchableText = [
                item.question,
                item.answer,
                item.topic,
                item.subtopic,
                item.legalBasis,
                item.documentation,
                item.deadlines,
                ...item.details.flatMap(d => [d.category, ...d.points])
            ].join(' ').toLowerCase();
            
            if (!searchableText.includes(searchTerm)) return false;
        }
        
        return true;
    });

    currentResults = filtered;
    renderFAQ(filtered);
    updateResultsCount(filtered.length);
    
    // Update subtopic filter based on selected topic
    if (selectedTopic) {
        updateSubtopicFilter(selectedTopic);
    } else {
        populateSubtopicFilter();
    }
}

function updateSubtopicFilter(selectedTopic) {
    const relevantSubtopics = [...new Set(
        faqData
            .filter(item => item.topic === selectedTopic)
            .map(item => item.subtopic)
    )].sort();
    
    const currentValue = subtopicFilter.value;
    subtopicFilter.innerHTML = '<option value="">Todos os Subt√≥picos</option>';
    
    relevantSubtopics.forEach(subtopic => {
        const option = document.createElement('option');
        option.value = subtopic;
        option.textContent = subtopic;
        if (subtopic === currentValue) option.selected = true;
        subtopicFilter.appendChild(option);
    });
}

function populateSubtopicFilter() {
    const subtopics = [...new Set(faqData.map(item => item.subtopic))].sort();
    const currentValue = subtopicFilter.value;
    subtopicFilter.innerHTML = '<option value="">Todos os Subt√≥picos</option>';
    
    subtopics.forEach(subtopic => {
        const option = document.createElement('option');
        option.value = subtopic;
        option.textContent = subtopic;
        if (subtopic === currentValue) option.selected = true;
        subtopicFilter.appendChild(option);
    });
}

function filterByTopic(topic) {
    topicFilter.value = topic;
    subtopicFilter.value = '';
    searchInput.value = '';
    applyFilters();
    
    // Scroll to FAQ section
    document.querySelector('.faq-section').scrollIntoView({ 
        behavior: 'smooth',
        block: 'start'
    });
}

function updateResultsCount(count) {
    resultsCount.textContent = `${count} resultado${count !== 1 ? 's' : ''}`;
    
    // Mostrar ou ocultar bot√£o de reset baseado nos filtros ativos
    const resetBtn = document.getElementById('resetFiltersBtn');
    const hasActiveFilters = searchInput.value.trim() !== '' || 
                           topicFilter.value !== '' || 
                           subtopicFilter.value !== '';
    
    if (hasActiveFilters) {
        resetBtn.classList.add('show');
    } else {
        resetBtn.classList.remove('show');
    }
}

function resetAllFilters() {
    // Limpar todos os filtros
    searchInput.value = '';
    topicFilter.value = '';
    subtopicFilter.value = '';
    
    // Restaurar filtro de subt√≥picos
    populateSubtopicFilter();
    
    // Mostrar cards de acesso r√°pido novamente
    const quickAccessSection = document.querySelector('.quick-access');
    quickAccessSection.classList.remove('hidden');
    
    // Aplicar filtros (que agora est√£o vazios)
    applyFilters();
    
    // Scroll suave para o topo da se√ß√£o FAQ
    document.querySelector('.faq-section').scrollIntoView({ 
        behavior: 'smooth',
        block: 'start'
    });
}

// Utility function for debouncing
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Add smooth scrolling for anchor links
document.addEventListener('click', function(e) {
    if (e.target.tagName === 'A' && e.target.getAttribute('href').startsWith('#')) {
        e.preventDefault();
        const target = document.querySelector(e.target.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
        }
    }
});

// Function to open legal document
function openLegalDocument(event) {
    event.stopPropagation();
    window.open('https://drive.google.com/file/d/1JLRNmKDOcBQI3TnAFPxKVXyf7K-UTF7o/view?usp=sharing', '_blank', 'noopener,noreferrer');
}

// Back to Top Button functionality
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

// Show/hide back to top button based on scroll position
window.addEventListener('scroll', function() {
    const backToTopButton = document.getElementById('backToTop');
    if (window.pageYOffset > 300) {
        backToTopButton.classList.add('show');
    } else {
        backToTopButton.classList.remove('show');
    }
});

// Add keyboard navigation
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        // Close any open FAQ items
        document.querySelectorAll('.faq-item.active').forEach(item => {
            item.classList.remove('active');
        });
    }
});
